(this["webpackJsonpreact-redux-toolkit-app-like"]=this["webpackJsonpreact-redux-toolkit-app-like"]||[]).push([[0],{20:function(e,n,t){},21:function(e,n,t){},28:function(e,n,t){"use strict";t.r(n);var i,r=t(1),c=t.n(r),a=t(7),l=t.n(a),s=(t(20),t(21),t(15)),u=t(4),m=t(6),o=t(3),j=t(11),b=t.n(j),d=t(13),f=Object(o.b)("anime/fetchAnime",function(){var e=Object(d.a)(b.a.mark((function e(n){var t,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n);case 3:return(t=e.sent).ok||console.error(t.status),e.next=7,t.json();case 7:return i=e.sent,e.abrupt("return",i.top);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}()),O=Object(o.c)({name:"anime",initialState:{anime:[],status:null,error:null},reducers:{removeAnime:function(e,n){e.anime=e.anime.filter((function(e){return e.mal_id!==n.payload}))},likeAnime:function(e,n){e.anime=e.anime.map((function(e){return e.mal_id===n.payload?Object(m.a)(Object(m.a)({},e),{},{like:!0}):e}))},unlikeAnime:function(e,n){e.anime=e.anime.map((function(e){return e.mal_id===n.payload?Object(m.a)(Object(m.a)({},e),{},{like:!1}):e}))}},extraReducers:(i={},Object(u.a)(i,f.pending,(function(e){e.status="loading",e.error=null})),Object(u.a)(i,f.fulfilled,(function(e,n){e.status="resolved",e.anime=n.payload,e.error=null})),Object(u.a)(i,f.rejected,(function(e){e.status="rejected",e.error=!0})),i)}),p=O.actions,k=p.removeAnime,x=p.likeAnime,h=p.unlikeAnime,A=O.reducer,_=t(5),v=t(8),g=t(14),N=t(2),y=function(e){var n=e.item,t=e.removeAnime,i=e.likeAnime,r=e.unlikeAnime;return Object(N.jsxs)("li",{className:"list__item",children:[Object(N.jsx)("img",{className:"list__img",src:n.image_url,alt:n.title}),Object(N.jsx)("p",{className:"list__title",children:n.title}),Object(N.jsxs)("div",{className:"list__btns",children:[n.like?Object(N.jsx)("button",{onClick:function(){return r(n.mal_id)},children:Object(N.jsx)(v.a,{})}):Object(N.jsx)("button",{onClick:function(){return i(n.mal_id)},children:Object(N.jsx)(v.b,{})}),Object(N.jsx)("button",{onClick:function(){return t(n.mal_id)},children:Object(N.jsx)(g.a,{})})]})]},n.mal_id)},w=Object(_.b)((function(e){return{anime:e.anime,all:e}}),(function(e){return{removeAnime:function(n){return e(k(n))},likeAnime:function(n){return e(x(n))},unlikeAnime:function(n){return e(h(n))}}}))((function(e){var n=Object(_.c)(),t=Object(r.useState)(!1),i=Object(s.a)(t,2),c=i[0],a=i[1];return Object(r.useEffect)((function(){n(f("https://api.jikan.moe/v3/top/anime/1/bypopularity"))}),[n]),Object(N.jsxs)("div",{className:"main__container",children:[Object(N.jsx)("p",{className:"main__title",children:"top anime"}),Object(N.jsx)("div",{children:Object(N.jsx)("button",{className:"main__fav-filter",onClick:function(){return a(!c)},children:c?Object(N.jsx)("span",{children:"show all"}):Object(N.jsx)("span",{children:"show favorite"})})}),Object(N.jsxs)("ul",{className:"list__container",children:[e.anime.length>0&&!c?e.anime.map((function(n){return Object(N.jsx)(y,{item:n,removeAnime:e.removeAnime,likeAnime:e.likeAnime,unlikeAnime:e.unlikeAnime},n.mal_id)})):null,e.anime.length>0&&c?e.anime.map((function(n){return!0===!!n.like&&Object(N.jsx)(y,{item:n,removeAnime:e.removeAnime,likeAnime:e.likeAnime,unlikeAnime:e.unlikeAnime},n.mal_id)})):null]})]})}));var C=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(w,{})})},S=Object(o.a)({reducer:A});l.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(_.a,{store:S,children:Object(N.jsx)(C,{})})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.7582ac96.chunk.js.map